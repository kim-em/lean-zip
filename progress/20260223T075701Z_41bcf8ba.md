# Progress: Fix PR #46 merge conflicts

**Date**: 2026-02-23T07:57Z
**Session**: 41bcf8ba (worker)
**Issue**: #49

## What was done

Rebased PR #46 (`agent/efec0b64`) onto current master, resolving merge
conflicts caused by the LZ77 extraction to `Zip/Spec/LZ77.lean` and
the addition of `BitstreamWriteCorrect.lean`.

### Conflicts resolved

1. **`Zip/Spec/Deflate.lean`**: The PR had LZ77 definitions and theorems
   inline in Deflate.lean. Master had already extracted these to
   `Zip/Spec/LZ77.lean`. Resolution: removed the duplicate LZ77 code
   (kept master's extraction), and added the new
   `findLongestMatch_dist_le_windowSize` theorem to `LZ77.lean` (this
   theorem was new in the PR and not yet on master).

2. **`.claude/CLAUDE.md`**: Both sides added to the source layout table.
   Resolution: accepted both `DeflateEncode.lean` (from PR) and
   `BitstreamWriteCorrect.lean` (from master) entries.

### Verification

- `lake build`: 116 jobs, all passed
- `lake exe test`: all tests passed
- Sorry count: 2 (unchanged, both in `Zip/Spec/Deflate.lean`)
- PR #46 status: MERGEABLE (was CONFLICTING)

## Decisions

- Placed `findLongestMatch_dist_le_windowSize` between
  `findLongestMatch_dist_bounds` and `findLongestMatch_matchLength` in
  `LZ77.lean`, matching the logical grouping of `findLongestMatch` property
  theorems.
