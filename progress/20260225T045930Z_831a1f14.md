# Review: BinaryCorrect.lean + Adler32.lean + Crc32.lean

**Date**: 2026-02-25T04:59Z
**Session**: review (proof quality — binary roundtrip + checksum specs)
**Issue**: #270

## Changes

### BinaryCorrect.lean
- Added `@[simp]` to `writeUInt16LEAt_size`, `writeUInt32LEAt_size`,
  `writeUInt64LEAt_size` — these are pure size-preservation facts that
  simp should know about. Simplifies downstream proofs (e.g.
  `readUInt64LE_writeUInt64LEAt` now uses `simp; omega` instead of
  manual `rw [writeUInt32LEAt_size]; omega`).
- Removed 3 unused `have` hypotheses (`hs0`, `hs1`, `hs2`) in
  `readUInt32LE_writeUInt32LEAt_ne` — they were size-preservation facts
  that `omega` doesn't need since `getElem!_set!_ne` only requires
  index inequality, not size info.

### Adler32.lean
- Added `@[simp]` to `updateList_append` — canonical simplification
  direction for foldl over concatenation. No current external consumers
  but prepares for future proofs.

### Crc32.lean
- Added `@[simp]` to `updateList_append` — same rationale as Adler32.
- Confirmed `mkTable` and `crcByteTable` are NOT dead code: both are
  used by `Zip/Native/Crc32.lean` (table-driven implementation and
  `crcByteTable_eq_crcByte` correspondence proof).

## Review findings (no action needed)

- `ba4_getElem!_*` are public (non-private) while `ba2_getElem!_*` are
  private. This is intentional: ba4 lemmas are used from GzipCorrect/
  ZlibCorrect via the Binary namespace, while ba2 lemmas are only used
  in the UInt16 roundtrip proof within this file.
- The `readUInt32BE_append_right` proof uses `simp only` before `rw` to
  reduce a `let` binding. Tried removing it but the `rw` needs the let
  to be unfolded first. Left as-is.
- The 16-line `getElem!_set!_ne` chain in `readUInt32LE_writeUInt32LEAt_ne`
  cannot be simplified to `simp only [getElem!_set!_ne]` because each
  rewrite requires a different omega discharge obligation.
- Adler32 and Crc32 specs are clean, well-structured, no dead code.

## Metrics
- Sorry count: 3 → 3 (unchanged, all in GzipCorrect/ZlibCorrect)
- Lines changed: -13/+7 (net -6)
- Build: pass, Tests: pass
