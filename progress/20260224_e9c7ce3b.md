# Progress: 2026-02-24 — Session e9c7ce3b

**Type**: Review (file organization)
**Issue**: #153 — Split BitstreamCorrect.lean (933 lines)

## Accomplished

Split `Zip/Spec/BitstreamCorrect.lean` (933 lines) into two files:

- **BitstreamCorrect.lean** (624 lines): Forward-direction proofs —
  `readBit_toBits`, `readBits_toBits`, `alignToByte_toBits`,
  `readUInt16LE_toBits`, `readBytes_toBits`, plus helper lemmas and
  wellformedness theorems.

- **BitstreamComplete.lean** (323 lines): Reverse-direction proofs —
  `readBit_complete`, `readBits_complete`, `readUInt16LE_complete`,
  `readBytes_complete`, plus `readNBytes_output_length` and helpers.

Changed 8 private helpers to protected for cross-file access:
`toBits_length`, `bytesToBits_drop_testBit`, `list_drop_cons_tail`,
`uint32_bit_eq_testBit`, `acc_or_shift_toNat`, `acc_or_shift_bound`,
`readBitsLSB_split`, `readNBytes_aligned`.

Updated imports in `DecodeCorrect.lean` (added `BitstreamComplete`),
`Zip.lean` (added `BitstreamComplete`), and CLAUDE.md source layout table.

## Verification

- `lake build` passes
- `lake exe test` passes (all tests)
- BitstreamCorrect.lean: 624 lines (< 700 target)
- BitstreamComplete.lean: 323 lines (< 500 target)
- Sorry count unchanged: 9 (4 DeflateFixedCorrect, 2 DecodeCorrect,
  2 InflateCorrect, 1 DynamicTreesCorrect)
- No theorem statements modified

## Decisions

- Used `protected` (not public) for cross-file helpers to maintain
  encapsulation while allowing access from BitstreamComplete.lean
- DynamicTreesCorrect.lean gets BitstreamComplete transitively via
  DecodeCorrect → BitstreamComplete, so no direct import needed
