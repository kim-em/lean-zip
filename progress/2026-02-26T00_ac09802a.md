# Progress: Raise DEFLATE fuel limits (Track C1)

**Date**: 2026-02-26 UTC
**Session**: feature (ac09802a)
**Issue**: #301

## Accomplished

Raised both DEFLATE fuel constants to remove the fuel bottleneck on
roundtrip theorem size bounds:

- **Block fuel**: 10001 → 10000000000 (10^10) in both spec (`Deflate.lean`)
  and native (`Inflate.lean`)
- **Symbol fuel**: 1000000000 → 1000000000000000000 (10^18) in both spec
  and native

Updated all references across 14 files:
- `Deflate.lean`, `Inflate.lean` — core constants
- `DeflateEncode.lean` — encode/decode roundtrip proofs
- `InflateCorrect.lean` — correctness theorems
- `InflateComplete.lean` — completeness theorems
- `InflateLoopBounds.lean` — loop bound proofs
- `InflateRawSuffix.lean` — suffix invariance proofs
- `DeflateFixedCorrect.lean` — fixed Huffman roundtrips
- `DeflateStoredCorrect.lean` — stored block roundtrip
- `DeflateDynamicCorrect.lean` — dynamic Huffman roundtrip
- `DeflateRoundtrip.lean` — unified roundtrip
- `GzipCorrect.lean` — gzip wrapper roundtrip
- `ZlibCorrect.lean` — zlib wrapper roundtrip
- `LZ77Lazy.lean` — lazy LZ77 spec roundtrips

## Key Decisions

- **Symbol fuel raised too**: The issue noted this was optional, but the
  symbol fuel (10^9) was the actual bottleneck for the lazy path bound
  (500 MB). Without raising it, the block fuel increase alone would not
  improve the roundtrip bounds.

- **Effective bound = maxOutputSize**: After raising fuel, the bottleneck
  shifted to the native inflate's default `maxOutputSize` (1 GiB). The
  roundtrip theorem bounds are now `data.size < 1024 * 1024 * 1024`,
  which is a clean, natural limit rather than an arbitrary fuel artifact.

- **2× improvement**: Bounds went from 500 MB to 1 GiB. Further
  improvement requires raising `maxOutputSize` in `inflate`, which is
  a separate design decision (zip bomb protection).

## Quality Metrics

- Sorry count: 1 (unchanged, pre-existing in DeflateRoundtrip.lean)
- Build: clean
- Tests: all passing
