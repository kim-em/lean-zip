# Progress: Fill last gzip framing sorry (remaining.length < 8)

**Session**: 9f94d6fe (feature)
**Issue**: #297
**Branch**: agent/9f94d6fe

## Summary

Proved `remaining.length < 8` at GzipCorrect.lean:1230, the last sorry
in the gzip/zlib framing roundtrip chain. GzipCorrect.lean and
ZlibCorrect.lean now have 0 sorrys — `gzip_decompressSingle_compress`
and `zlib_decompressSingle_compress` are fully proved.

## Approach: decode.goR determinism

The proof uses a "decode with remaining" variant (`decode.goR`) that
returns both the decoded result and unprocessed bits. The approach:

1. `decode.goR` definition + `decode_goR_fst`/`decode_goR_exists` in
   DeflateSuffix.lean (committed in earlier session attempt, re-done)
2. `encodeFixed_goR_rest` and `encodeDynamic_goR_rest` in
   DeflateEncode.lean: per-level theorems showing goR returns exactly
   the trailing bits as remaining
3. `deflateRaw_goR_pad` in DeflateRoundtrip.lean: unified theorem
   across all compression levels (stored block case has 1 sorry)
4. Strengthened `inflateLoop_complete_ext` in GzipCorrect.lean with a
   goR conclusion tracking spec decoder remaining through native decoder
5. Changed `inflateRaw_endPos_ge` to take goR-based `hpad` hypothesis
6. By determinism: goR from encoder (short remaining) = goR from
   decoder (native remaining), so `remaining.length < 8`

## Commits

- 92f0372: feat: add decode.goR (decode.go with remaining bits)
- 620611a: feat: add goR roundtrip theorems for fixed/dynamic Huffman
- c16e531: feat: prove remaining.length < 8 (fill last gzip framing sorry)

## Sorry count

- Before: 2 (GzipCorrect:1, DeflateFixedCorrect:1)
- After: 2 (DeflateRoundtrip:1 new, DeflateFixedCorrect:1 unchanged)
- Net: GzipCorrect dropped from 1 → 0 sorrys
- New sorry: stored block goR roundtrip in `deflateRaw_goR_pad` (level 0)

## Verification

- `lake build` succeeds (182 jobs)
- `lake exe test` all tests passed
- `grep -c sorry Zip/Spec/GzipCorrect.lean` → 0
- `grep -c sorry Zip/Spec/ZlibCorrect.lean` → 0
