# Review: split GzipCorrect.lean into 4 focused modules

**Issue**: #298
**Type**: review
**Branch**: agent/9f94d6fe
**Starting commit**: c18f21c
**Sorry count**: unchanged (1 total, in DeflateRoundtrip.lean)

## Deliverables

### 1. Split GzipCorrect.lean (1949 â†’ 4 files)

| File | Lines | Content |
|------|-------|---------|
| BitReaderInvariant.lean | 522 | BitReader data/pos preservation (readBits, decode, decodeStored, decodeHuffman, readCLCodeLengths, decodeCLSymbols, decodeDynamicTrees, alignToByte) |
| InflateLoopBounds.lean | 614 | inflateLoop/inflateRaw endPos bounds and completeness |
| InflateRawSuffix.lean | 501 | Suffix invariance chain (readBit through inflateRaw) |
| GzipCorrect.lean | 286 | Gzip-specific: decompressSingle, GzipEncode lemmas, roundtrip |

### 2. Import graph updates
- Zip.lean: added 3 new imports
- ZlibCorrect.lean: removed duplicate `bytesToBits_drop_prefix_three` (now available from GzipCorrect)

### 3. Proof quality improvements
- Combined consecutive `rw` steps in `readBit_append` (InflateRawSuffix.lean)
- Reviewed all 4 files for combinable steps; other patterns (brAppend equality chains) resist simplification due to non-definitional equality

## Build issues resolved
- `bytesToBits_append` was private in original file; inlined proof in InflateLoopBounds.lean
- Name clash: ZlibCorrect had its own private `bytesToBits_drop_prefix_three` that conflicted with the now-public version; removed duplicate

## Warnings
- DeflateSuffix.lean has ~30 unused simp arg warnings (pre-existing, `bind`/`Option.bind` redundancy)
- These are tracked for a future review session
